## API Report File for "kyxbot-database"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

import { default as default_2 } from 'zod';
import { Many } from 'drizzle-orm';
import { One } from 'drizzle-orm';
import { PgColumn } from 'drizzle-orm/pg-core';
import { PgTableWithColumns } from 'drizzle-orm/pg-core';
import postgres from 'postgres';
import { PostgresJsDatabase } from 'drizzle-orm/postgres-js';
import { Relations } from 'drizzle-orm';
import { UnknownKeysParam } from 'zod';
import { z } from 'zod';
import { ZodBoolean } from 'zod';
import { ZodDate } from 'zod';
import { ZodNullable } from 'zod';
import { ZodNumber } from 'zod';
import { ZodObject } from 'zod';
import { ZodOptional } from 'zod';
import { ZodString } from 'zod';
import { ZodTypeAny } from 'zod';

// @public (undocumented)
export const addGeneration: (generation: NewImageGeneration) => Promise<void>;

// @public (undocumented)
export const addGenerationResults: (generationResults: NewImageGenerationResult[]) => Promise<void>;

// @public (undocumented)
export const addUserRole: (guildId: GuildId, roleId: string) => Promise<void>;

// @public (undocumented)
export const client: postgres.Sql<{}>;

// @public (undocumented)
export const createGuildSettings: (guildSettings: NewGuildSettings) => Promise<void>;

// @public (undocumented)
export const createNewUser: (discordId: DiscordId) => Promise<User>;

// @public (undocumented)
export const createPermissions: (newPermission: NewPermission) => Promise<void>;

// @public (undocumented)
export const createUpscaledImage: (upscaledImage: NewUpscaledImage) => Promise<void>;

// @public (undocumented)
export const db: PostgresJsDatabase<    {
    users: PgTableWithColumns<    {
        name: "users";
        schema: undefined;
        columns: {
            discordId: PgColumn<    {
                name: "discord_id";
                tableName: "users";
                dataType: "string";
                columnType: "PgVarchar";
                data: string;
                driverParam: string;
                notNull: true;
                hasDefault: false;
                enumValues: [string, ...string[]];
                baseColumn: never;
            }, {}, {}>;
            money: PgColumn<    {
                name: "money";
                tableName: "users";
                dataType: "number";
                columnType: "PgInteger";
                data: number;
                driverParam: string | number;
                notNull: true;
                hasDefault: true;
                enumValues: undefined;
                baseColumn: never;
            }, {}, {}>;
        };
        dialect: "pg";
    }>;
    image_generations: PgTableWithColumns<    {
        name: "image_generations";
        schema: undefined;
        columns: {
            generation_id: PgColumn<    {
                name: "generation_id";
                tableName: "image_generations";
                dataType: "string";
                columnType: "PgVarchar";
                data: string;
                driverParam: string;
                notNull: true;
                hasDefault: false;
                enumValues: [string, ...string[]];
                baseColumn: never;
            }, {}, {}>;
            user: PgColumn<    {
                name: "user";
                tableName: "image_generations";
                dataType: "string";
                columnType: "PgVarchar";
                data: string;
                driverParam: string;
                notNull: true;
                hasDefault: false;
                enumValues: [string, ...string[]];
                baseColumn: never;
            }, {}, {}>;
            guild: PgColumn<    {
                name: "guild";
                tableName: "image_generations";
                dataType: "string";
                columnType: "PgVarchar";
                data: string;
                driverParam: string;
                notNull: true;
                hasDefault: false;
                enumValues: [string, ...string[]];
                baseColumn: never;
            }, {}, {}>;
            prompt: PgColumn<    {
                name: "prompt";
                tableName: "image_generations";
                dataType: "string";
                columnType: "PgText";
                data: string;
                driverParam: string;
                notNull: true;
                hasDefault: false;
                enumValues: [string, ...string[]];
                baseColumn: never;
            }, {}, {}>;
            interactionId: PgColumn<    {
                name: "message_id";
                tableName: "image_generations";
                dataType: "string";
                columnType: "PgVarchar";
                data: string;
                driverParam: string;
                notNull: true;
                hasDefault: false;
                enumValues: [string, ...string[]];
                baseColumn: never;
            }, {}, {}>;
            status: PgColumn<    {
                name: "status";
                tableName: "image_generations";
                dataType: "string";
                columnType: "PgVarchar";
                data: string;
                driverParam: string;
                notNull: true;
                hasDefault: false;
                enumValues: [string, ...string[]];
                baseColumn: never;
            }, {}, {}>;
            timestamp: PgColumn<    {
                name: "timestamp";
                tableName: "image_generations";
                dataType: "date";
                columnType: "PgTimestamp";
                data: Date;
                driverParam: string;
                notNull: true;
                hasDefault: true;
                enumValues: undefined;
                baseColumn: never;
            }, {}, {}>;
        };
        dialect: "pg";
    }>;
    image_generation_results: PgTableWithColumns<    {
        name: "image_generation_results";
        schema: undefined;
        columns: {
            image_id: PgColumn<    {
                name: "image_id";
                tableName: "image_generation_results";
                dataType: "string";
                columnType: "PgVarchar";
                data: string;
                driverParam: string;
                notNull: true;
                hasDefault: false;
                enumValues: [string, ...string[]];
                baseColumn: never;
            }, {}, {}>;
            generation_id: PgColumn<    {
                name: "generation_id";
                tableName: "image_generation_results";
                dataType: "string";
                columnType: "PgVarchar";
                data: string;
                driverParam: string;
                notNull: true;
                hasDefault: false;
                enumValues: [string, ...string[]];
                baseColumn: never;
            }, {}, {}>;
            image_url: PgColumn<    {
                name: "image_url";
                tableName: "image_generation_results";
                dataType: "string";
                columnType: "PgText";
                data: string;
                driverParam: string;
                notNull: true;
                hasDefault: false;
                enumValues: [string, ...string[]];
                baseColumn: never;
            }, {}, {}>;
            upscaled_image_url: PgColumn<    {
                name: "upscaled_image_url";
                tableName: "image_generation_results";
                dataType: "string";
                columnType: "PgText";
                data: string;
                driverParam: string;
                notNull: false;
                hasDefault: false;
                enumValues: [string, ...string[]];
                baseColumn: never;
            }, {}, {}>;
        };
        dialect: "pg";
    }>;
    upscaled_images: PgTableWithColumns<    {
        name: "upscaled_images";
        schema: undefined;
        columns: {
            variation_id: PgColumn<    {
                name: "variation_id";
                tableName: "upscaled_images";
                dataType: "string";
                columnType: "PgVarchar";
                data: string;
                driverParam: string;
                notNull: true;
                hasDefault: false;
                enumValues: [string, ...string[]];
                baseColumn: never;
            }, {}, {}>;
            upscaled_by: PgColumn<    {
                name: "upscaled_by";
                tableName: "upscaled_images";
                dataType: "string";
                columnType: "PgVarchar";
                data: string;
                driverParam: string;
                notNull: true;
                hasDefault: false;
                enumValues: [string, ...string[]];
                baseColumn: never;
            }, {}, {}>;
            image_url: PgColumn<    {
                name: "image_url";
                tableName: "upscaled_images";
                dataType: "string";
                columnType: "PgVarchar";
                data: string;
                driverParam: string;
                notNull: true;
                hasDefault: false;
                enumValues: [string, ...string[]];
                baseColumn: never;
            }, {}, {}>;
            original_image: PgColumn<    {
                name: "original_image";
                tableName: "upscaled_images";
                dataType: "string";
                columnType: "PgVarchar";
                data: string;
                driverParam: string;
                notNull: true;
                hasDefault: false;
                enumValues: [string, ...string[]];
                baseColumn: never;
            }, {}, {}>;
            timestamp: PgColumn<    {
                name: "timestamp";
                tableName: "upscaled_images";
                dataType: "date";
                columnType: "PgTimestamp";
                data: Date;
                driverParam: string;
                notNull: true;
                hasDefault: true;
                enumValues: undefined;
                baseColumn: never;
            }, {}, {}>;
        };
        dialect: "pg";
    }>;
    guild_settings: PgTableWithColumns<    {
        name: "guild_settings";
        schema: undefined;
        columns: {
            guild_id: PgColumn<    {
                name: "guild_id";
                tableName: "guild_settings";
                dataType: "string";
                columnType: "PgVarchar";
                data: string;
                driverParam: string;
                notNull: true;
                hasDefault: false;
                enumValues: [string, ...string[]];
                baseColumn: never;
            }, {}, {}>;
            personality: PgColumn<    {
                name: "personality";
                tableName: "guild_settings";
                dataType: "string";
                columnType: "PgVarchar";
                data: string;
                driverParam: string;
                notNull: false;
                hasDefault: false;
                enumValues: [string, ...string[]];
                baseColumn: never;
            }, {}, {}>;
            usingPermissions: PgColumn<    {
                name: "usingPermissions";
                tableName: "guild_settings";
                dataType: "boolean";
                columnType: "PgBoolean";
                data: boolean;
                driverParam: boolean;
                notNull: false;
                hasDefault: true;
                enumValues: undefined;
                baseColumn: never;
            }, {}, {}>;
            name: PgColumn<    {
                name: "name";
                tableName: "guild_settings";
                dataType: "string";
                columnType: "PgVarchar";
                data: string;
                driverParam: string;
                notNull: false;
                hasDefault: false;
                enumValues: [string, ...string[]];
                baseColumn: never;
            }, {}, {}>;
        };
        dialect: "pg";
    }>;
    uploaded_images: PgTableWithColumns<    {
        name: "uploaded_images";
        schema: undefined;
        columns: {
            image_id: PgColumn<    {
                name: "image_id";
                tableName: "uploaded_images";
                dataType: "string";
                columnType: "PgVarchar";
                data: string;
                driverParam: string;
                notNull: true;
                hasDefault: false;
                enumValues: [string, ...string[]];
                baseColumn: never;
            }, {}, {}>;
            user: PgColumn<    {
                name: "user";
                tableName: "uploaded_images";
                dataType: "string";
                columnType: "PgVarchar";
                data: string;
                driverParam: string;
                notNull: true;
                hasDefault: false;
                enumValues: [string, ...string[]];
                baseColumn: never;
            }, {}, {}>;
            image_url: PgColumn<    {
                name: "image_url";
                tableName: "uploaded_images";
                dataType: "string";
                columnType: "PgText";
                data: string;
                driverParam: string;
                notNull: true;
                hasDefault: false;
                enumValues: [string, ...string[]];
                baseColumn: never;
            }, {}, {}>;
            image_name: PgColumn<    {
                name: "image_name";
                tableName: "uploaded_images";
                dataType: "string";
                columnType: "PgText";
                data: string;
                driverParam: string;
                notNull: true;
                hasDefault: false;
                enumValues: [string, ...string[]];
                baseColumn: never;
            }, {}, {}>;
            timestamp: PgColumn<    {
                name: "timestamp";
                tableName: "uploaded_images";
                dataType: "date";
                columnType: "PgTimestamp";
                data: Date;
                driverParam: string;
                notNull: true;
                hasDefault: true;
                enumValues: undefined;
                baseColumn: never;
            }, {}, {}>;
        };
        dialect: "pg";
    }>;
    userInformations: PgTableWithColumns<    {
        name: "user_informations";
        schema: undefined;
        columns: {
            id: PgColumn<    {
                name: "id";
                tableName: "user_informations";
                dataType: "number";
                columnType: "PgSerial";
                data: number;
                driverParam: number;
                notNull: true;
                hasDefault: true;
                enumValues: undefined;
                baseColumn: never;
            }, {}, {}>;
            user: PgColumn<    {
                name: "user";
                tableName: "user_informations";
                dataType: "string";
                columnType: "PgVarchar";
                data: string;
                driverParam: string;
                notNull: true;
                hasDefault: false;
                enumValues: [string, ...string[]];
                baseColumn: never;
            }, {}, {}>;
            guild: PgColumn<    {
                name: "guild";
                tableName: "user_informations";
                dataType: "string";
                columnType: "PgVarchar";
                data: string;
                driverParam: string;
                notNull: true;
                hasDefault: false;
                enumValues: [string, ...string[]];
                baseColumn: never;
            }, {}, {}>;
            information: PgColumn<    {
                name: "information";
                tableName: "user_informations";
                dataType: "string";
                columnType: "PgVarchar";
                data: string;
                driverParam: string;
                notNull: true;
                hasDefault: false;
                enumValues: [string, ...string[]];
                baseColumn: never;
            }, {}, {}>;
            timestamp: PgColumn<    {
                name: "timestamp";
                tableName: "user_informations";
                dataType: "date";
                columnType: "PgTimestamp";
                data: Date;
                driverParam: string;
                notNull: true;
                hasDefault: true;
                enumValues: undefined;
                baseColumn: never;
            }, {}, {}>;
        };
        dialect: "pg";
    }>;
    imageGenerationRelations: Relations<"image_generations", {
        generation_results: Many<"image_generation_results">;
    }>;
    imageGenerationResultsRelations: Relations<"image_generation_results", {
        image_generation: One<"image_generations", true>;
    }>;
    permissions: PgTableWithColumns<    {
        name: "permissions";
        schema: undefined;
        columns: {
            guild_id: PgColumn<    {
                name: "guild_id";
                tableName: "permissions";
                dataType: "string";
                columnType: "PgVarchar";
                data: string;
                driverParam: string;
                notNull: false;
                hasDefault: false;
                enumValues: [string, ...string[]];
                baseColumn: never;
            }, {}, {}>;
            role: PgColumn<    {
                name: "role";
                tableName: "permissions";
                dataType: "string";
                columnType: "PgEnumColumn";
                data: "admin" | "manager" | "normal";
                driverParam: string;
                notNull: false;
                hasDefault: false;
                enumValues: ["admin", "manager", "normal"];
                baseColumn: never;
            }, {}, {}>;
            group_id: PgColumn<    {
                name: "group_id";
                tableName: "permissions";
                dataType: "string";
                columnType: "PgVarchar";
                data: string;
                driverParam: string;
                notNull: false;
                hasDefault: false;
                enumValues: [string, ...string[]];
                baseColumn: never;
            }, {}, {}>;
        };
        dialect: "pg";
    }>;
}>;

// Warning: (ae-forgotten-export) The symbol "discordIdSchema" needs to be exported by the entry point kyxbot-database.d.ts
//
// @public (undocumented)
export type DiscordId = z.infer<typeof discordIdSchema>["discordId"];

// @public (undocumented)
export const findPermission: (guildId: string, groupIds: string[], role: Role) => Promise<boolean>;

// @public (undocumented)
export const getAmountOfPagesForUser: (discordId: DiscordId, pageSize: number) => Promise<number>;

// @public (undocumented)
export const getGenerationResultsFromUser: (discordId: DiscordId) => Promise<{
    prompt: string;
    timestamp: Date;
    generation_results: {
        image_url: string;
    }[];
}[]>;

// @public (undocumented)
export const getGenerationResultsFromUserPaginated: (discordId: DiscordId, page?: number, pageSize?: number) => Promise<{
    prompt: string;
    timestamp: Date;
    generation_results: {
        image_url: string;
    }[];
}[]>;

// @public (undocumented)
export const getGenerationResultsFromUserWithinGuild: (discordId: DiscordId, guildId: GuildId) => Promise<{
    prompt: string;
    timestamp: Date;
    generation_results: {
        image_url: string;
    }[];
}[]>;

// @public (undocumented)
export const getGuildSettings: (guildId: GuildId) => Promise<{
    name: string | null;
    guild_id: string;
    personality: string | null;
    usingPermissions: boolean | null;
} | null>;

// @public (undocumented)
export const getModRoles: (guildId: GuildId) => Promise<{
    guild_id: string | null;
    role: "admin" | "manager" | "normal" | null;
    group_id: string | null;
}[] | null>;

// @public (undocumented)
export const getPermissionsForGuildAndGroup: (guildId: string, groupId: string) => Promise<{
    guild_id: string | null;
    role: "admin" | "manager" | "normal" | null;
    group_id: string | null;
} | null>;

// @public (undocumented)
export const getUploadedImageByName: (userId: DiscordId, name: string) => Promise<{
    user: string;
    timestamp: Date;
    image_id: string;
    image_url: string;
    image_name: string;
} | undefined>;

// @public (undocumented)
export const getUploadedImages: (userId: DiscordId) => Promise<{
    user: string;
    timestamp: Date;
    image_id: string;
    image_url: string;
    image_name: string;
}[]>;

// @public (undocumented)
export const getUpscaledImage: (imageId: ImageGenerationResultId) => Promise<{
    timestamp: Date;
    image_url: string;
    variation_id: string;
    upscaled_by: string;
    original_image: string;
} | null>;

// @public (undocumented)
export const getUserByDiscordId: (discordId: DiscordId) => Promise<User | null>;

// @public (undocumented)
export const getUserInformation: (discordId: DiscordId) => Promise<{
    user: string;
    guild: string;
    timestamp: Date;
    id: number;
    information: string;
}[]>;

// @public (undocumented)
export const getUserInformationInGuild: (discordId: DiscordId, guildId: GuildId) => Promise<{
    user: string;
    guild: string;
    timestamp: Date;
    id: number;
    information: string;
}[]>;

// @public (undocumented)
export const getUserPrivileges: (guildId: string, groupIds: string[]) => Promise<"manager" | "normal" | "none">;

// @public (undocumented)
export const getUserRoles: (guildId: GuildId) => Promise<{
    guild_id: string | null;
    role: "admin" | "manager" | "normal" | null;
    group_id: string | null;
}[] | null>;

// Warning: (ae-forgotten-export) The symbol "selectGuildSettingsSchema" needs to be exported by the entry point kyxbot-database.d.ts
//
// @public (undocumented)
export type GuildId = Zod.infer<typeof selectGuildSettingsSchema>["guild_id"];

// @public (undocumented)
export const hasAccess: (guildId: string, groupIds: string[]) => Promise<boolean>;

// Warning: (ae-forgotten-export) The symbol "selectImageGenerationSchema" needs to be exported by the entry point kyxbot-database.d.ts
//
// @public (undocumented)
export type ImageGenerationId = Zod.infer<typeof selectImageGenerationSchema>["generation_id"];

// Warning: (ae-forgotten-export) The symbol "insertImageGenerationResultSchema" needs to be exported by the entry point kyxbot-database.d.ts
//
// @public (undocumented)
export type ImageGenerationResultId = Zod.infer<typeof insertImageGenerationResultSchema>["image_id"];

// @public (undocumented)
export const insertUploadedImage: (uploadedImage: NewUploadedImage) => Promise<void>;

// @public (undocumented)
export const insertUserInformation: (newUserInformation: NewUserInformation) => Promise<{
    user: string;
    guild: string;
    timestamp: Date;
    id: number;
    information: string;
}>;

// Warning: (ae-forgotten-export) The symbol "insertGuildSettingsSchema" needs to be exported by the entry point kyxbot-database.d.ts
//
// @public (undocumented)
export type NewGuildSettings = Zod.infer<typeof insertGuildSettingsSchema>;

// Warning: (ae-forgotten-export) The symbol "insertImageGenerationSchema" needs to be exported by the entry point kyxbot-database.d.ts
//
// @public (undocumented)
export type NewImageGeneration = Zod.infer<typeof insertImageGenerationSchema>;

// @public (undocumented)
export type NewImageGenerationResult = Zod.infer<typeof insertImageGenerationResultSchema>;

// Warning: (ae-forgotten-export) The symbol "insertPermissionsSchema" needs to be exported by the entry point kyxbot-database.d.ts
//
// @public (undocumented)
export type NewPermission = default_2.infer<typeof insertPermissionsSchema>;

// Warning: (ae-forgotten-export) The symbol "insertUploadedImageSchema" needs to be exported by the entry point kyxbot-database.d.ts
//
// @public (undocumented)
export type NewUploadedImage = Zod.infer<typeof insertUploadedImageSchema>;

// Warning: (ae-forgotten-export) The symbol "insertUpscaledImageSchema" needs to be exported by the entry point kyxbot-database.d.ts
//
// @public (undocumented)
export type NewUpscaledImage = Zod.infer<typeof insertUpscaledImageSchema>;

// Warning: (ae-forgotten-export) The symbol "insertUserInformationSchema" needs to be exported by the entry point kyxbot-database.d.ts
//
// @public (undocumented)
export type NewUserInformation = Zod.infer<typeof insertUserInformationSchema>;

// Warning: (ae-forgotten-export) The symbol "selectPermissionsSchema" needs to be exported by the entry point kyxbot-database.d.ts
//
// @public (undocumented)
export type Permission = default_2.infer<typeof selectPermissionsSchema>;

// @public (undocumented)
export const removeModRole: (guildId: GuildId) => Promise<void>;

// @public (undocumented)
export const removeUserRole: (guildId: GuildId, roleId: string) => Promise<void>;

// @public (undocumented)
export const resetPermissions: (guildId: string, modGroups: string[], userGroups: string[]) => Promise<void>;

// Warning: (ae-forgotten-export) The symbol "roleSchema" needs to be exported by the entry point kyxbot-database.d.ts
//
// @public (undocumented)
export type Role = default_2.infer<typeof roleSchema>;

// @public (undocumented)
export const setModRole: (guildId: GuildId, roleId: string) => Promise<void>;

// Warning: (ae-forgotten-export) The symbol "ImageGenerationStatus" needs to be exported by the entry point kyxbot-database.d.ts
//
// @public (undocumented)
export const updateGenerationStatus: (generationId: ImageGenerationId, generationStatus: ImageGenerationStatus) => Promise<void>;

// @public (undocumented)
export const updateGuildSettings: (guildId: GuildId, guildSettings: Partial<NewGuildSettings>) => Promise<void>;

// Warning: (ae-forgotten-export) The symbol "selectUploadedImageSchema" needs to be exported by the entry point kyxbot-database.d.ts
//
// @public (undocumented)
export type UploadedImage = Zod.infer<typeof selectUploadedImageSchema>;

// @public (undocumented)
export type UploadedImageId = Zod.infer<typeof selectUploadedImageSchema>["image_id"];

// Warning: (ae-forgotten-export) The symbol "selectUpscaledImageSchema" needs to be exported by the entry point kyxbot-database.d.ts
//
// @public (undocumented)
export type UpscaledImageId = Zod.infer<typeof selectUpscaledImageSchema>["variation_id"];

// @public (undocumented)
export const upsertGuildSettings: (guildId: GuildId, guildSettings: NewGuildSettings) => Promise<void>;

// Warning: (ae-forgotten-export) The symbol "selectUserSchema" needs to be exported by the entry point kyxbot-database.d.ts
//
// @public (undocumented)
export type User = z.infer<typeof selectUserSchema>;

// Warning: (ae-forgotten-export) The symbol "selectUserInformationSchema" needs to be exported by the entry point kyxbot-database.d.ts
//
// @public (undocumented)
export type UserInformation = Zod.infer<typeof selectUserInformationSchema>;

// @public (undocumented)
export type UserInformationId = Zod.infer<typeof selectUserInformationSchema>["id"];

// (No @packageDocumentation comment for this package)

```
